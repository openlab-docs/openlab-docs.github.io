
_`이상탐지`
========================================



_`이상탐지 화면 개요`
----------------------------------------
이상탐지 기능은 사용자가 지정한 데이터와 시간 범위 내에서 다양한 옵션과 알고리즘을 통해 급격한 변화나 평소에는 나타나지 않는 값 등 이상치를 검출하는 기능을 제공합니다.
이상탐지 화면의 구성은 다음과 같습니다.

.. image:: ./images/ko/anomaly_main.png

========  ==================================  =====================================================================================================================================================================================
번호      구분                                설명
--------  ----------------------------------  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1         모델/시간 설정                      검색하고자 하는 데이터 모델과 검색 기간을 설정
2         필드 목록                           선택한 데이터 모델의 필드들을 표기
3         검색 정보 표기                      데이터 모델/시간/검색어 등의 설정된 정보들을 표기하는 영역
4         카드 영역                           추가하거나 실행된 카드들이 바둑판식으로 나열되는 영역
5         카드 추가 버튼                      카드를 추가하는 버튼. 클릭하면 설정 다이얼로그가 팝업됩니다.
========  ==================================  =====================================================================================================================================================================================



_`이상탐지 수행하기`
----------------------------------------
이상탐지를 수행하고자 한다면 키/값 필드, 비교/참조 기간, 분석 모델 등 복잡한 조건들을 설정해야 합니다. 데이터 브라우저에서는 이를 최대한 쉽게 설정할 수 있도록 돕는 UI를 제공합니다.


_`이상탐지 조건 설정하기`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
카드 추가 버튼을 클릭하면, 아래 그림과 같은 이상탐지 실행 옵션 다이얼로그가 popup 됩니다.

.. image:: ./images/ko/anomaly_cond_dlg.png

========  ==================================  =========================================================================================================================================================================================================
번호      구분                                설명
--------  ----------------------------------  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1         카드 제목 입력란                    카드 제목을 설정하는 입력란. Default로는 “Untitled” 텍스트와 숫자의 조합이 입력됩니다.
2         분석 설정                           이상탐지 분석 중 필드/모델 등 데이터 처리에 대한 설정 모음
                                                - 키 필드: 분석 대상으로 지정할 키 필드입니다. 복수개 설정이 가능합니다. 설정 방법은 아래의 ‘주요 설정’ 참조.
                                                - 값 필드: 분석 대상으로 지정할 값 필드입니다. 복수개 설정이 가능합니다. 설정 방법은 아래의 ‘주요 설정’ 참조.
                                                - 모델: 이상탐지 분석 시에 사용할 분석 모델을 선택합니다. Default는 SPC 입니다.
                                                    - SPC(Statistical Process Control) - 참조그룹의 데이터의 평균과 표준편차로 관리상한선, 관리하한선을 설정하여 관리하는 모델
                                                    - IQR(Inter-Quartile Range)
                                                        - 백분위수(percentile)를 기준으로 삼사분위수(Q3)에서 일사분위수(Q1)를 뺀 값으로 정의
                                                        - 즉 IQR = Q3 -Q1(75% 범위값에서 25% 범위값을 뺀 나머지 범위)
                                                - 없는 Key 값: 키 필드 데이터 중 누락된 데이터를 이상상황으로 처리할지 여부를 결정합니다.
                                                - 결측치: 누락된 데이터(missing value)에 대한 처리 방법을 결정합니다. “처리하지 않음” 외에 다른 항목을 선택할 경우, 누락된 데이터를 선택한 값으로 대체합니다. 사용자가 이 값을 지정할 수도 있습니다.
3         시간 설정                           이상탐지 분석 중 시간 범위에 대한 설정 모음
                                                - 비교 기간: 분석할 데이터의 시간 범위를 지정합니다.
                                                - 참조 기간: 분석에 참조할 데이터의 시간 범위를 지정합니다. “비교기간 기준” 체크박스에 체크를 하고 상대시간(미리설정)으로 설정한 경우, 상대시간을 현재 시간 기준이 아닌 비교기간의 시작 시간 기준으로 설정합니다. default는 최근 4주 입니다.
                                                - 단위: 분석 시 비교기간 시간 범위 내에서 summary를 수행할 단위입니다.
                                                - 요일 분류: 비교 기간의 요일에 따라 분석할지 평일/휴일로 분류하여 분석할지를 결정합니다. ex) 비교 기간의 요일이 화요일이면 참조 기간의 화요일 데이터를 참조합니다.
4         상세 옵션 숨기기/펼치기 버튼        분석 설정 및 시간 설정 중 일부 옵션을 숨기거나 펼치는 버튼. 분석 설정에서는 “없는 키 값”, “결측치”가, 시간 설정에서는 “참조 기간”, “요일 분류” 등이 대상입니다.
5         실행 버튼                           현재까지 입력한 설정으로 카드를 추가하며 이상탐지 작업을 수행합니다.
6         취소/초기화 버튼                    아무런 작업을 하지 않고 설정 다이얼로그를 닫거나, 현재까지 입력한 설정값들을 기본값으로 초기화합니다.
========  ==================================  =========================================================================================================================================================================================================


주요 설정 1. 키 필드 설정하기
````````````````````````````````````````````````````
"추가" 버튼을 클릭하면, 필드 리스트가 오픈 됩니다. 필드 리스트는 아래와 같이 필드 유형과 필드 명으로 구성되어 있습니다.

.. image:: ./images/ko/anomaly_set_field_01.png

오픈된 필드 리스트 중에서 키 필드로 지정하고자 하는 필드를 선택하면, 아래와 같은 상세 설정 popup이 오픈 되고, “레이블”과 “최대 키 개수”, “특정 값 지정”을 통한 필터 설정 등을 수행할 수 있습니다

.. image:: ./images/ko/anomaly_set_field_02.png

“최대 키 개수” 입력란 하단의 라디오 버튼 그룹은 특정 키 필드에 대해서 수행하기 위한 일종의 필터 옵션입니다. “모든 값”을 선택할 경우 필터를 설정하지 않고 모든 키 필드 값에 대해 분석을 수행하며, “특정 값 지정”을 선택한 경우에는 아래 그림처럼 상위 10개 키 값이 그리드 뷰로 출력되어 이를 체크박스로 선택할 수 있습니다.

.. image:: ./images/ko/anomaly_set_field_03.png

원하는 값을 “특정 값 지정”에서 찾지 못한 경우, “직접 입력”을 선택 후 입력란에 값을 입력하는 방식으로 원하는 키 값을 직접 지정할 수 있습니다. (콤마(,)로 구분하여 입력)

.. image:: ./images/ko/anomaly_set_field_04.png


주요 설정 2. 값 필드 설정하기
````````````````````````````````````````````````````
"추가"  버튼을 클릭하면, 필드 리스트가 오픈 됩니다. 필드 리스트는 아래와 같이 필드 유형과 필드 명으로 구성되어 있습니다.

.. image:: ./images/ko/anomaly_set_field_01.png

오픈된 필드 리스트 중에서 값 필드로 지정하고자 하는 필드를 선택하면, 아래와 같은 상세 설정 popup이 오픈 되고, “최소값”, “최대값”과 “함수” 등을 통한 설정을 수행할 수 있습니다.

.. image:: ./images/ko/anomaly_set_field_05.png


주요 설정 3. 비교 기간 설정하기
````````````````````````````````````````````````````
비교 기간의 기본값은 시간 범위 설정입니다. 이를 변경하고자 한다면 "캘린더" 버튼을 눌러 시간 설정 popup을 띄우면 됩니다. 아래 그림과 같은 시간 설정 창이 popup 되며, 인터페이스는 화면 좌단의 시간 범위 설정과 동일합니다.

.. image:: ./images/ko/anomaly_set_datetime.png




_`카드 기능 활용 하기`
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
이상탐지 화면에서 실행 옵션 다이얼로그를 통해 카드를 추가하면 카드 영역에 추가된 카드가 표시됩니다.

.. image:: ./images/ko/anomaly_card_01.png


========  ==================================  =====================================================================================================================================================================================
번호      구분                                설명
--------  ----------------------------------  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1         실행 옵션 정보 버튼                 마우스를 버튼 위에 올리면 해당 카드의 실행 옵션 내용을 툴팁으로 보여줍니다.
2         제목                                실행 옵션에서 설정한 카드 제목을 표시합니다.
3         스케일 모드 on/off                  Heatmap 차트의 각 cell별 색상을 모든 값에 대하여 계산할지 행 단위로 계산할지 여부를 선택합니다. (Heatmap 일 때만 나타납니다.)
4         확대/축소 버튼                      카드를 확대하거나 축소하는 버튼입니다. 차트
5         메뉴 버튼                           클릭하면 기능 메뉴를 선택할 수 있습니다.
                                                 - 설정 변경: 선택하면 실행 옵션 다이얼로그를 다시 popup합니다. 이를 통해 실행 옵션을 변경하고 이상탐지 분석을 다시 수행할 수 있습니다.
                                                 - 복사: 실행 옵션 및 분석 결과를 복사하여 새로운 카드를 추가합니다.
                                                 - 다시 실행: 설정된 현재 실행 옵션으로 이상탐지 분석을 다시 수행합니다. 네트워크 이상 등으로 분석 결과를 수신하지 못했거나 결과가 적절하지 못할 때 유용합니다.
                                                 - 삭제: 해당 카드를 카드 영역에서 완전히 삭제합니다.
6         차트 영역                           차트가 그려지는 영역입니다. 실행 옵션에 따라 Heatmap 혹은 Line plot 이 그려집니다.
========  ==================================  =====================================================================================================================================================================================


